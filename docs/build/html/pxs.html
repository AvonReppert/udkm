
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>pxs &#8212; udkm 0.0.1</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="moke" href="moke.html" />
    <link rel="prev" title="Welcome to udkm’s documentation!" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">udkm 0.0.1</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/AleksUDKM/udkm">
   github project page
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   pxs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="moke.html">
   moke
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tools.html">
   tools
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/pxs.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-udkm.pxs.functions">
   functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-udkm.pxs.rsm">
   rsm
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rss">
   rss
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-udkm.pxs.pxshelpers">
   pxshelpers
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>pxs</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-udkm.pxs.functions">
   functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-udkm.pxs.rsm">
   rsm
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rss">
   rss
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-udkm.pxs.pxshelpers">
   pxshelpers
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="pxs">
<h1><code class="docutils literal notranslate"><span class="pre">pxs</span></code><a class="headerlink" href="#pxs" title="Permalink to this headline">#</a></h1>
<section id="module-udkm.pxs.functions">
<span id="functions"></span><h2>functions<a class="headerlink" href="#module-udkm.pxs.functions" title="Permalink to this headline">#</a></h2>
<p>This skript contains all basic functions used to evaluate pxs x-ray diffraction data.</p>
<p>– Further information –</p>
<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.calc_qx_qz">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">calc_qx_qz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omega_rad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_rad</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#calc_qx_qz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.calc_qx_qz" title="Permalink to this definition">#</a></dt>
<dd><p>This function calculates the qx-qz coordinate in reciprocal space for a
given incident and diffraction angle ‘omega_rad’ and ‘theta_rad’,respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>omega_rad</strong> (<em>0D array</em>) – the incident angle of x-ray beam in [rad]</p></li>
<li><p><strong>theta_rad</strong> (<em>1D array</em>) – the diffraction angle or angles of x-ray beam in [rad]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>qx_val</strong> (<em>1D array</em>) – in-plane reciprocal space coordinate in [1/Ang]</p></li>
<li><p><strong>qz_val</strong> (<em>1D array</em>) – out-off-plane reciprocal space coordinate in [1/Ang]</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_qx_qz</span><span class="p">(</span><span class="mf">0.492</span><span class="p">,</span><span class="mf">0.492</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_qx_qz</span><span class="p">(</span><span class="mf">0.492</span><span class="p">,</span><span class="mf">0.492</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.85</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.calc_theta_value">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">calc_theta_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omega_rad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centerpixel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#calc_theta_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.calc_theta_value" title="Permalink to this definition">#</a></dt>
<dd><p>This function calculates the corresponding diffraction angle ‘theta’ of a
‘pixel’ of the detector in respect to its ‘centerpixel’. The ‘distance’ between
sample and detector determines the angular space fraction covered by the pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>omega_rad</strong> (<em>0D array</em>) – the incident angle of x-ray beam in [rad]</p></li>
<li><p><strong>distance</strong> (<em>float</em>) – distance between sample and detector in [m]</p></li>
<li><p><strong>pixel</strong> (<em>1D array</em>) – pixel or pixels for which the theta angle should be calculated</p></li>
<li><p><strong>centerpixel</strong> (<em>integer</em>) – pixel where Bragg condition ‘omega’ = ‘theta’ is fulfilled</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>theta_rad</strong> – theta angle of the pixel or pixels in [rad]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1D array</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_theta_value</span><span class="p">(</span><span class="mf">0.492</span><span class="p">,</span> <span class="mf">0.700</span><span class="p">,</span> <span class="mi">244</span><span class="p">,</span> <span class="mi">244</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.492</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.gaussian_back_fit">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">gaussian_back_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#gaussian_back_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.gaussian_back_fit" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the fit parameters for a gaussian with linear background model
as a lm model object for the ‘intensity’ as function of ‘qz_axis’. The start values of
‘slope’ and ‘intercept’ are set to zero by default.</p>
<dl class="simple">
<dt>center_start: float</dt><dd><p>start value for the center of gaussian</p>
</dd>
<dt>sigma_start: float</dt><dd><p>start value for the width of gaussian</p>
</dd>
<dt>amplitude_start: float</dt><dd><p>start value for the amplitude of gaussian</p>
</dd>
<dt>qz_axis: 1D array</dt><dd><p>part of interest of reciprocal space</p>
</dd>
<dt>intensity: 1D array</dt><dd><p>part of interest of the detector intensities</p>
</dd>
</dl>
<dl class="simple">
<dt>fit: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for the further analysis</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">3.855</span> <span class="o">=</span> <span class="n">gaussian_back_fit</span><span class="p">(</span><span class="mf">3.85</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">qz</span><span class="p">,</span> <span class="n">intensity</span><span class="p">)[</span><span class="s1">&#39;g_center&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.gaussian_fit">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">gaussian_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#gaussian_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.gaussian_fit" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the fit parameters for a gaussian peak model as a lm
model object for the ‘intensity’ as function of ‘qz_axis’.</p>
<dl class="simple">
<dt>center_start: float</dt><dd><p>start value for the center of gaussian</p>
</dd>
<dt>sigma_start: float</dt><dd><p>start value for the width of gaussian</p>
</dd>
<dt>amplitude_start: float</dt><dd><p>start value for the amplitude of gaussian</p>
</dd>
<dt>qz_axis: 1D array</dt><dd><p>part of interest of reciprocal space</p>
</dd>
<dt>intensity: 1D array</dt><dd><p>part of interest of the detector intensities</p>
</dd>
</dl>
<dl class="simple">
<dt>fit: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for the further analysis</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">3.855</span> <span class="o">=</span> <span class="n">gaussian_back_fit</span><span class="p">(</span><span class="mf">3.85</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">qz</span><span class="p">,</span> <span class="n">intensity</span><span class="p">)[</span><span class="s1">&#39;g_center&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.get_background">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">get_background</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_rocking</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#get_background"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.get_background" title="Permalink to this definition">#</a></dt>
<dd><p>This function subtracts the scattering background from the averaged rocking curve
before t0 and thereby extracts the intensity distribution associated with the Bragg peak.
To avoid negative intensity after subtracting the background fit the minimum is set to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>scan_rocking</strong> (<em>dictionary</em>) – This dictionary contains the raw and analysed measurement data. This function uses
the keys: ‘unique_delays’: measured different delays, ‘qz_axis’: relevant range in reciprocal space,
‘intensity_rock’: intensity for each delay and ‘qz_axis’ loop-wise averaged.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>scan_rocking</strong> – The function added the keys: ‘intensity_peak’: background-free time-dependent intensity
of the Bragg peak, ‘ref_fit’: lm model object that contains the peak properties before
excitation as reference for time-dependent fit.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.get_export_parameter">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">get_export_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#get_export_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.get_export_parameter" title="Permalink to this definition">#</a></dt>
<dd><p>This function creates a dictionary that contains parameters for exporting
the analysis results. This dictionary contains the key words: ‘plot_title’:
string that contains the measurement number, its date, time, temperature,
fluence and material name to link plots to the measurement, ‘save_path’: string for a folder
structure of date and time to save figures and results and ‘file_name’: string
for suitable file names of exported results. Additionally, adjustable plot parameters
are initialised by their default values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>dictionary</em>) – This dictionary contains all parameters of the measurement from teh reference file.
This function uses the keys: ‘number’, ‘identifier’, ‘date’, ‘time’, ‘temperature’,
‘fluence’ and ‘peak’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>export</strong> – The entrees of this dictionary are used to export and plot the analysed data.
The adjustable keys and their initialised default values are: ‘bool_refresh_data’
and ‘raw_data_path’: should the raw data from the measurement folder are loaded
(default: False), ‘bool_plot_fit’: should the fit of the rocking curve are plotted
(default: False), ‘delay_steps’: xtick step for first delay range, delay of axis break and
xtick step for long delays (default: [10, 100, 200]), ‘bool_plot_2D_rocking_semilogy’:
logarithmic or linear norm of transient rocking curves (default: True), ‘bool_plot_1D_rocking_semilogy’:
logarithmic or linear norm of fitted rocking curve (default: False), ‘intensity_range_2D’:
lower and upper limit of plotted normed transient intensity (default: [0.01, 1]),
‘intensity_range_1D’: lower and upper limit of plotted normed rocking curve (default: [-0.01, 1]).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.get_peak_dynamics">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">get_peak_dynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_back</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#get_peak_dynamics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.get_peak_dynamics" title="Permalink to this definition">#</a></dt>
<dd><p>This function uses the extracted intensity distribution along qz associated with the Bragg
peak to determine its time-dependent position, width and amplitude using a fit and a center-of-mass
analysis. Finally, the transient relative change in respect to the averaged value before excitation
is determined and exportedto a folder ‘exportedResults’. The key ‘com_border’ of teh dictionary ‘scan_back’
provides the option to narrow the evaluted qz-range for the center-of-mass analysis. The key ‘bool_plot_fit’
of the dictionary ‘export’ enables plotting the comparison of teh Bragg peak fit and the actual rocking curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_back</strong> (<em>dictionary</em>) – This dictionary contains the time-dependent intensity distribution along qz associated
with the Bragg peak. This function uses the keys: ‘unique_delays’: measured different delays,
‘qz_axis’: relevant range along qz containing the Bragg peak, ‘com_border’: lower and upper border
along qz for center-of-mass evaluation (default: full ‘qz_axis’ range), ‘intensity_peak’: background-
free time-dependent intensity of the Bragg peak, ‘ref_fit’: lm model object that contains the peak
properties before excitation as reference for time-dependent fit, ‘temperature’: temperature of the
measurement in [K] and ‘fluence’: excitation fluence in [mJ/cm2].</p></li>
<li><p><strong>export</strong> (<em>dictionary</em>) – This dictionary contains the parameters to plot and export the calculated results. This
function uses the keys: ‘bool_plot_fit’: whether or not the time-dependent fit of the
rocking curve is plotted (default: False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>scan_back</strong> – The function added the key: ‘com’: time-dependent position, ‘std’: time-dependent width,
‘integral’: time-dependent amplitude, ‘center_fit’: time-dependent position, ‘width_fit’:
time-dependent width, ‘area_fit’: time-dependent amplitude, ‘transient_results’: two-dimensional
array that contains the relative change of the peak properties for both evaluations for each
different measured delay.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.get_rocking_rss">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">get_rocking_rss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_raw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#get_rocking_rss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.get_rocking_rss" title="Permalink to this definition">#</a></dt>
<dd><p>This function calculates the intensity distribution along qz from an intensity
as function of the detector pixel for a certain incident x-ray angle. The resulting
loop-wise averaged rocking curve as function of the pump-probe delay is appended to
the dictionary and saved in the respective folder structure. By the key ‘qz_border’
of ‘scan_raw’ you can choose a certain range in reciprocal space that contains the
relevant Bragg peak (default: full covered qz range).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_raw</strong> (<em>dictionary</em>) – This dictionary contains the parameters of the measurement as well as the x-ray
intensity as function of pump-probe delay and detector pixel. This function uses
the keys: ‘omge_rad’: incident x-ray angle in [rad], ‘distance’: distance between
sample and detector in [m], ‘pixel_axis’: array of the pixel numbers of the detector,
‘centerpixel’: pixel where incident equal to diffraction angle is fullfilled (default:
244), ‘qz_border’: lower and upper border of teh relevant qz range (default: full
covered qz range), ‘delays’: all delays including several loops, ‘unique_delays’:
different measured delays and ‘intensity’: on reference diode voltage normalized intensity
per non-excluded pixel and all delays and non-excluded loops.</p></li>
<li><p><strong>export</strong> (<em>dictionary</em>) – This dictionary contains the parameters to plot and export the calculated results. This
function uses the keys: ‘save_path’: path to the folder to finally save the data and
‘file_name’: name of teh saved data given by a combination of date and time of the
measurement.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>scan_raw</strong> – The function added the keys: ‘theta_axis’: corresponding diffraction angles of the detector
pixels in [rad] given by ‘omega_rad’ and ‘distance’, ‘qx_axis’: values of the detector pixels
along qx given by ‘theta_axis’, ‘qz_axis’: values of the detector pixels along qz given by
‘theta_axis’ and limited by ‘qz_border’, ‘intensity_rock’: loop-wise averaged intensity as
function of ‘unique_delays’ and the choosen range in qz ‘qz_axis’.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.get_scan_parameter">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">get_scan_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#get_scan_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.get_scan_parameter" title="Permalink to this definition">#</a></dt>
<dd><p>This function writes the measurement parameters of the ‘number’. measurement
from the reference file ‘ref_file’ into a dictionary and returns it. Necessary
entrys of the reference file are: ‘identifier’: combination of date and time,
‘date’: date of measurement, ‘time’: time of measurement, ‘temperature’: start
temperature in [K], ‘fluence’ - incident excitation fluence in [mJ/cm2],
‘time_zero’: delay of pump-probe overlap in [ps], ‘distance’: distance between
sample and detector in [m].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_file</strong> (<em>str</em>) – File name of the reference file storing information about measurement.</p></li>
<li><p><strong>number</strong> (<em>int</em>) – The number of the measurement equivalent to row in the reference file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>scan_parameters</strong> – Contains the parameters of the measurement. Always included keys are: ‘identifier’:
combination of date and time,’date’: date of measurement, ‘time’: time of
measurement, ‘temperature’: start temperature in [K], ‘fluence’ - incident
excitation fluence in [mJ/cm2], ‘time_zero’: delay of pump-probe overlap in [ps],
‘distance’: distance between sample and detector in [m].
Optinal keys are: ‘power’: laser power in [mW], ‘spot_size_x’: FWHM of laser spot
along x-direction in [mum], ‘spot_size_y’: FWHM of laser spot along
y-direction in [mum], ‘peak’: name of material of measured Bragg peak,
‘magnetic_field’: applied magnetic field in [T], ‘wavelength’: excitation
wavelength in [nm], ‘double_pulse’: was it ‘first’, ‘second’ or ‘both’ excitation pulses,
‘z_pos’: z-position on the sample in [mm], ‘y_pos’: y-position on the
sample in [mm], ‘pulse_length’: length of the pump-pulse in [ps], ‘colinear_exc’:
wether or not pump and probe were collinear.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_scan_parameter</span><span class="p">(</span><span class="s1">&#39;reference.txt&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="go">                                              &#39;identifier&#39;: &#39;20211123174703&#39;,</span>
<span class="go">                                              &#39;date&#39;: &#39;20211123&#39;,</span>
<span class="go">                                              &#39;time&#39;: &#39;183037&#39;,</span>
<span class="go">                                              &#39;temperature&#39;: 300,</span>
<span class="go">                                              &#39;fluence&#39;: 8.0,</span>
<span class="go">                                              &#39;distance&#39;: 0.7,</span>
<span class="go">                                              &#39;time_zero&#39;: 0.0,</span>
<span class="go">                                              &#39;power&#39;: 110,</span>
<span class="go">                                              &#39;spot_size_x&#39;: 960,</span>
<span class="go">                                              &#39;spot_size_y&#39;: 960,</span>
<span class="go">                                              &#39;double_pulse&#39;: first,</span>
<span class="go">                                              &#39;pulse_length&#39;: 0.1,</span>
<span class="go">                                              &#39;colinear_exc&#39;: no,</span>
<span class="go">                                              &#39;wavelength&#39;: 800,</span>
<span class="go">                                              &#39;peak&#39;: &#39;W&#39;,</span>
<span class="go">                                              &#39;magnetic_field&#39;: 0.0,</span>
<span class="go">                                              &#39;z_pos&#39;: -4.52,</span>
<span class="go">                                              &#39;y_pos&#39;: 2.25}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.plot_peak_fit">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">plot_peak_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">export</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#plot_peak_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.plot_peak_fit" title="Permalink to this definition">#</a></dt>
<dd><dl>
<dt>This function generates a comparison of the rocking curve (intensity(qz)) with</dt><dd><p>the fit of the Bragg peak. The rocking curve and its fit at a certan delay is
compared with the ‘ref_fit’ of the averaged rocking curve before t0.</p>
<dl class="simple">
<dt>export: dictionary</dt><dd><p>This dictionary contains the parameters to plot and export. This function uses the keys:
‘bool_plot_1D_rocking_semilogy’: whether the norm is logarithmic or linear,
‘intensity_range_1D’: list of intensity min and max for plotting range, ‘plot_title’:
main measurmeent parameter as title of the figure, ‘save_path’: location in the folder
structure to save the figure.</p>
</dd>
<dt>qz_axis: 1D array</dt><dd><p>the relevant region in reciprocal space</p>
</dd>
<dt>fit: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit).</p>
</dd>
<dt>ref_fit: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for delays before exciation</p>
</dd>
<dt>delay: float</dt><dd><p>delay of the fitted rocking curve, used in the plot title</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.plot_rocking_overview">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">plot_rocking_overview</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_rock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#plot_rocking_overview"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.plot_rocking_overview" title="Permalink to this definition">#</a></dt>
<dd><p>This function generates an illustration of the transient loopwise-averaged
intensity distribution along qz. The three-dimensional figure consists of two
parts separated by an axes break to visualize both strain waves at small delays
and heat transport for long delays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_rock</strong> (<em>dictionary</em>) – This dictionary contains the measurmeent parameters as well as the raw x-ray
data and the calculated intensity distribution along qz. This function uses the
keys: ‘unique_delays’: measured delays, ‘qz_axis’: part of reciprocal space given
by key ‘qz_range’, ‘intensity_rock’: loop-wise averaged intensity of transient
rocking curves.</p></li>
<li><p><strong>export</strong> (<em>dictionary</em>) – This dictionary contains the parameters to plot and export the calculated results
in ‘scan_rock’. This function uses the keys: ‘bool_plot_2D_rocking_semilogy’: whether
the norm is logarithmic or linear, ‘intensity_range_2D’: list of intensity min and max
for plotting range, ‘delay_steps’: list of xtick step first part, delay of axis break and
xtick step second part, ‘plot_title’: main measurmeent parameter as title of the figure,
‘save_path’: location in the folder structure to save the figure.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.plot_transient_results">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">plot_transient_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#plot_transient_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.plot_transient_results" title="Permalink to this definition">#</a></dt>
<dd><p>This function generates an illustration of the transient change of the Bragg
peak properties by the fit and a center-of-mass analysis. The figure consists of
three panels for teh transient relative change of the peak position along qz, its
width and its amplitude. The delay axis consists of two parts separated by an axis
break to visualize both strain waves at small delays and heat transport for long delays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_results</strong> (<em>dictionary</em>) – This dictionary contains the measurmeent parameters as well as the transient properties
of the measured Bragg peak and its relative change. This function uses the
keys: ‘unique_delays’: measured delays and ‘transient_results’: two-dimensional array that
contains the relative change of teh peak properties determined from a center-of-mass analysis
and a fit.</p></li>
<li><p><strong>export</strong> (<em>dictionary</em>) – This dictionary contains the parameters to plot and export the calculated results
in ‘scan_results’. This function uses the keys: ‘delay_steps’: list of xtick step first part,
delay of axis break and xtick step second part, ‘plot_title’: main measurmeent parameter
as title of the figure and ‘save_path’: location in the folder structure to save the figure.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.functions.read_data_rss">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.functions.</span></span><span class="sig-name descname"><span class="pre">read_data_rss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/functions.html#read_data_rss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.functions.read_data_rss" title="Permalink to this definition">#</a></dt>
<dd><p>This function reads in the raw data (intensity per pixel and omega angle) and
adds it to the dictionary ‘scan’. This dictionary contains the corresponding
measurement parameters added by ‘get_scan_parameter’ and the evaluation parameters
added in the main script. From the raw data the function exclude bad loops and pixels
given by the keys ‘bad_loops’ and ‘bad_pixels’ of ‘scan’ and normalize the intensity
on the crystal voltage using the key ‘crystal_offset’. Scan with an intensity below
‘crystal_threshold’ are excluded. By the keysof the dictionary ‘export ‘raw_data_path’
and ‘bool_refresh_data’ you can refresh the data from the data path of the raw data
during measurement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan</strong> (<em>dictionary</em>) – This dictionary contains the parameters from the reference file. This function uses
the keys: ‘number’: row of refernece file, ‘date’: date of measurement, ‘time’:
time of measurement, ‘temperature’: temperature in [K], ‘fluence’: excitation fluence
in [mJ/cm2], ‘crystal_offset’: offset of teh reference diode in [V], ‘crystal_threshold’:
minimum intensity not excluded in [V], ‘bad_loops’: loops to excluded (default: []),
‘bad_pixels’: pixels to exclude (default: []), ‘time_zero’: delay of pump-probe overlap
in [ps] (default: 0.0).</p></li>
<li><p><strong>export</strong> (<em>dictionary</em>) – This dictionary contains the parameters to plot and export the calculated results. This
function uses the keys: ‘bool_refresh_data’: whether or not the raw data should be updated
during measurement (default: False), ‘raw_data_path’: the corresponding path to the measurement
folder (default: ‘test/test2/test3/’), ‘save_path’: path to the folder to finally save the data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>scan</strong> – The function added the keys: ‘pixel_axis’: array of the pixel numbers of the detector, ‘delays’:
all delays including several loops, ‘unique_delays’: different measured delays, ‘intensity’:
on reference diode voltage normalized intensity per non-excluded pixel and all delays and
non-excluded loops, ‘omega_deg’: incident x-ray angle in [deg], ‘omega_rad’: incident x-ray
angle in [rad].</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-udkm.pxs.rsm">
<span id="rsm"></span><h2>rsm<a class="headerlink" href="#module-udkm.pxs.rsm" title="Permalink to this headline">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.CalcPathList">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">CalcPathList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RSMQ_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#CalcPathList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.CalcPathList" title="Permalink to this definition">#</a></dt>
<dd><p>This function creates a list of the qx-qz pixels resulting from the
omega bins and the delta theta of the pixels. The four corners of the angle bin
are transformed into qx-qz-space and form an area in reciprocal space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_name</strong> (<em>string</em>) – name of the measured sample (named reference file)</p></li>
<li><p><strong>RSMQ_list</strong> (<em>2D numpy array</em>) – contains the intensity as function of the position in reciprocal space and the angles</p></li>
<li><p><strong>delta_theta</strong> (<em>float</em>) – describes the angle space due to the real space dimension of teh pixels [rad]</p></li>
<li><p><strong>k</strong> (<em>float</em>) – wave vector of the X-rays</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path_list</strong> – list of the arrays describing an area in reciprocal space</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.CalcQGridList">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">CalcQGridList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qzGrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qxGrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RSMQList</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#CalcQGridList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.CalcQGridList" title="Permalink to this definition">#</a></dt>
<dd><p>This function creates a list of the QGrid, where each point of the QGrid is associated with
an intensity as in the RSMQList.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qzGrid</strong> (<em>1D numpy array</em>) – contains the steps along qz</p></li>
<li><p><strong>qxGrid</strong> (<em>1D numpy array</em>) – contains the steps along qx</p></li>
<li><p><strong>pathList</strong> (<em>list</em>) – contains arrays describing the polygons in reciprocal space</p></li>
<li><p><strong>RSMQList</strong> (<em>2D numpy array</em>) – contains the intensity as function of the position in reciprocal space and the angles</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>QGridList</strong> – relates every point in QGrid to information in RSMQList</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.CalcRSMQList">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">CalcRSMQList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RSM_angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_omega</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_pixel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convergence_XRays</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#CalcRSMQList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.CalcRSMQList" title="Permalink to this definition">#</a></dt>
<dd><p>This function calculates the transformation of teh Raw RSM to reciprocal
space qx-qz. The detector pixels relative to the center pixel are associated
with a different diffraction angle theta according to the pixel size and the
sample-detector distance. The intensity at a pixel and an omega angle is normed
by the area in angle space given by delta theta and convergence of the X-rays.
After the transformation in qx-qz space the intensity density is normed by the
Jacobian matrix of the transformation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_name</strong> (<em>string</em>) – name of the measured sample (named reference file)</p></li>
<li><p><strong>number</strong> (<em>integer</em>) – line in the reference datafile wich corresponds to the measurement</p></li>
<li><p><strong>RSM_angle</strong> (<em>2D numpy array</em>) – contains the crystal normalized intensity for pixels and omega angles</p></li>
<li><p><strong>unique_omega</strong> (<em>1D numpy array</em>) – contains the measured omega angle steps</p></li>
<li><p><strong>distance</strong> (<em>float</em>) – distance between sample and detector [m]</p></li>
<li><p><strong>pixel_size</strong> (<em>float</em>) – dimension of the detector pixels in real space [m]</p></li>
<li><p><strong>center_pixel</strong> (<em>integer</em>) – input centerpixel: If it is positive this is the return value
otherwise the calculation starts</p></li>
<li><p><strong>k</strong> (<em>float</em>) – wave vector of the X-rays</p></li>
<li><p><strong>convergence_XRays</strong> (<em>float</em>) – convergence angle of incident X-rays [rad]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>RSMQ_list</strong> (<em>array</em>) – contains the normed intensity distribution in q-space iterating the pixels
for each unique omega resulting in len(unique_omega)*pixel num lines.
Additionally, it contains angle informations and the jacobian matrix</p></li>
<li><p><strong>delta_theta</strong> (<em>float</em>) – describes the angle space due to the real space dimension of the pixels [rad]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.CreateMapping">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">CreateMapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qzList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qxList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RSMQList</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#CreateMapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.CreateMapping" title="Permalink to this definition">#</a></dt>
<dd><p>The points of the recipracl grid which are in the polygon of the ‘pathlist’ are associated with
the intensity from the Raw RSM corresponding to a pixel and an omega angle. THus every point in the
QGrid gets an associated intensity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qzList</strong> (<em>1D numpy array</em>) – contains all qz values for each qx value within the QGrid</p></li>
<li><p><strong>qxList</strong> (<em>1D numpy array</em>) – contains all qx values for each qz value within the QGrid</p></li>
<li><p><strong>pathList</strong> (<em>list</em>) – contains arrays describing the polygons in reciprocal space</p></li>
<li><p><strong>RSMQList</strong> (<em>2D numpy array</em>) – contains the intensity as function of the position in reciprocal space and the angles</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>QGridListTemp</strong> – relates every point in QGrid to information in RSMQList</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.GetLabel">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">GetLabel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#GetLabel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.GetLabel" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the title for plotting the result, the saving path
and saving name of the data and plots. Therfore the function ‘ReadParameter’ is used.</p>
<dl class="simple">
<dt>sample_name: string</dt><dd><p>name of the measured sample (named reference file)</p>
</dd>
<dt>number: integer</dt><dd><p>line in the reference datafile wich corresponds to the measurement</p>
</dd>
</dl>
<dl class="simple">
<dt>plot_title: string</dt><dd><p>contains the ‘sampleName’, ‘number’ of measurement, ‘date’, ‘time’,
‘temperature’ and ‘fluence’ of the choosen measurement</p>
</dd>
<dt>save_path: string</dt><dd><p>contains the ‘date’ and ‘time’ of the choosen measurement as an folder
structure to define a saving path like the folder structure in the
saved raw data</p>
</dd>
<dt>date_file_name: string</dt><dd><p>contains the ‘date’ and ‘time’ of the choosen measurement to give
saved figures and data a usefull name</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;20181212/235959&#39;</span> <span class="o">=</span> <span class="n">GetLabel</span><span class="p">(</span><span class="s1">&#39;Dataset&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;20181212235959&#39;</span> <span class="o">=</span> <span class="n">GetLabel</span><span class="p">(</span><span class="s1">&#39;Dataset&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.LoadRSMTimeresolved">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">LoadRSMTimeresolved</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crystal_offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crystal_threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#LoadRSMTimeresolved"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.LoadRSMTimeresolved" title="Permalink to this definition">#</a></dt>
<dd><p>This function imports the raw RSMs from the measurement of the ‘number’. line
of the reference file of the sample ‘sampleName’ for the different omega loops,
delay loops and delays. The first dimension of the RSM denotes the detector pixels
and the second the omega angles. All angle measurements with a photon number below
‘crystalThreshold’ + ‘crystalOffset’ are replaced by the intensity of the last delay
and the intensities are normed by the reduced crystal photon number. The RSMs for
the different delays of the different loops are appended to a list of the structure
‘fullRSMList[t][l][w]’. Here, w denotes the omega loops, l the delay loops and t the delays.</p>
<dl class="simple">
<dt>sample_name: string</dt><dd><p>name of the measured sample (named reference file)</p>
</dd>
<dt>number: integer</dt><dd><p>line in the reference datafile wich corresponds to the measurement</p>
</dd>
<dt>crystal_offset: float</dt><dd><p>denotes the voltage of the crystal without xray photons</p>
</dd>
<dt>crystal_threshold: float</dt><dd><p>denotes a threshold, all mangle measurements with voltage below become excluded</p>
</dd>
<dt>t0: float</dt><dd><p>denotes the temporal overlapp of pump and probe of the experiment [ps]</p>
</dd>
</dl>
<dl class="simple">
<dt>RSM_list: list</dt><dd><p>contains a list of RSMs with indizees: [omegaLoop][delayLoop][delay]</p>
</dd>
<dt>unique_omega: 1D array</dt><dd><p>contains the unique measured omgea angle values</p>
</dd>
<dt>unique_delays: 1D array</dt><dd><p>contains the unique measured pump-probe delays</p>
</dd>
<dt>omega_loops: integer</dt><dd><p>reterns the number of measured omega loops</p>
</dd>
<dt>delay_loops: integer</dt><dd><p>returns the number of measured delay loops</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">LoadRSMTimeresolved</span><span class="p">(</span><span class="s1">&#39;SRO&#39;</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mf">0.017514</span><span class="p">,</span><span class="n">crystal_threshold</span><span class="p">,</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[[[</span><span class="n">array</span><span class="p">([[</span><span class="mf">50.2</span><span class="p">,</span><span class="mf">51.2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],[</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.9</span><span class="p">]]),</span><span class="n">array</span><span class="p">([[</span><span class="mf">50.2</span><span class="p">,</span><span class="mf">51.2</span><span class="p">],[</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],[</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">1.4</span><span class="p">]])]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.PlotList">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">PlotList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RSMQ_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#PlotList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.PlotList" title="Permalink to this definition">#</a></dt>
<dd><p>This function plots the intensity of the Raw RSM in qx-qz-space distributed
over the area calculated in the path list. The polygons map the reciprocal space.</p>
<dl class="simple">
<dt>sample_name: string</dt><dd><p>name of the measured sample (named reference file)</p>
</dd>
<dt>RSMQ_list: 2D numpy array</dt><dd><p>contains the intensity as function of the position
in reciprocal space and the angles</p>
</dd>
<dt>path_list<span class="classifier">list</span></dt><dd><p>last of the arrays describing an area in reciprocal space</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.PlotRSMRaw">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">PlotRSMRaw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RSM_angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_omega</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_plot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#PlotRSMRaw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.PlotRSMRaw" title="Permalink to this definition">#</a></dt>
<dd><p>This function plotted a raw reciprocal space map, i.e. intensity for
omega angles and detector pixels, whereby the intensity is plotted logarithmic.
This plot of the ‘RSM_raw’ can be saved in the data folder in ‘Graphics’.</p>
<dl class="simple">
<dt>sample_name: string</dt><dd><p>name of the measured sample (named reference file)</p>
</dd>
<dt>number: integer</dt><dd><p>line in the reference datafile wich corresponds to the measurement</p>
</dd>
<dt>RSM_angle: 2D array</dt><dd><p>contains the intensities for the measured omega angles (X) and the detector pixels (Y)</p>
</dd>
<dt>unique_omega: 1D array</dt><dd><p>ontains the unique measured omgea angle values for the x-axis o fthe plot</p>
</dd>
<dt>log_plot: boolean</dt><dd><p>set wether the intensity is plotted logarithmic or not</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">PlotRSMRaw</span><span class="p">(</span><span class="s1">&#39;SRO&#39;</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="n">fullRSMList</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">50.2</span><span class="p">,</span><span class="mf">51.2</span><span class="p">]),</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PlotRSMRaw</span><span class="p">(</span><span class="s1">&#39;SRO&#39;</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="n">array</span><span class="p">([[</span><span class="mf">50.2</span><span class="p">,</span><span class="mf">51.2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],[</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.9</span><span class="p">]]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">50.2</span><span class="p">,</span><span class="mf">51.2</span><span class="p">]),</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.PrepareRockingCurveFile">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">PrepareRockingCurveFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampleName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qAxis</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#PrepareRockingCurveFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.PrepareRockingCurveFile" title="Permalink to this definition">#</a></dt>
<dd><p>Starts the files where all Rocking-Curves along qz are stored</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.ReadParameter">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">ReadParameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#ReadParameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.ReadParameter" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the parameters of the ‘number’. measuerement saved
in the reference file ‘Reference’sample_name’’.</p>
<dl class="simple">
<dt>sample_name: string</dt><dd><p>name of the measured sample (named reference file)</p>
</dd>
<dt>number: integer</dt><dd><p>line in the reference datafile wich corresponds to the measurement</p>
</dd>
</dl>
<dl class="simple">
<dt>identifier: integer</dt><dd><p>with timestemp from datetime extracted identification of the measurement</p>
</dd>
<dt>date: string</dt><dd><p>date of the measurement extracted from the reference datafile</p>
</dd>
<dt>time: string</dt><dd><p>time of the measurement extracted from the reference datafile</p>
</dd>
<dt>temperature: float</dt><dd><p>temperature during the choosen measurement [K]</p>
</dd>
<dt>fluence: float</dt><dd><p>fluence during the choosen measurement [mJ/cm^2]</p>
</dd>
<dt>distance: float</dt><dd><p>distance between sample and detector for choosen measurement [m]</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="mi">20191111</span> <span class="o">=</span> <span class="n">readParameter</span><span class="p">(</span><span class="s1">&#39;SRO&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.SelectSingleRSM">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">SelectSingleRSM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omega_loop_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_loop_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omega_loop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_loop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#SelectSingleRSM"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.SelectSingleRSM" title="Permalink to this definition">#</a></dt>
<dd><p>This function creates a boolean of the length of the three lists corresponding
to the first columns of the measurement file from the same length, which give the
RSM (intensity for every pixel and every measured omega angle) for a
single omega loop, delay loop and delay.</p>
<dl class="simple">
<dt>omega_loop_list: 1D array</dt><dd><p>contains all measured omega loops with their measured delay loops and delays</p>
</dd>
<dt>delay_loop_list: 1D array</dt><dd><p>contains all measured delay loops for every omega loop with all delays</p>
</dd>
<dt>delay_list: 1D array</dt><dd><p>contains all delays measured for every omega and delay loop</p>
</dd>
<dt>omega_loop: float</dt><dd><p>the desired omega Loop</p>
</dd>
<dt>delay_loop: float</dt><dd><p>the desired delay Loop</p>
</dd>
<dt>delay: float</dt><dd><p>the desired delay</p>
</dd>
</dl>
<dl class="simple">
<dt>select: boolean</dt><dd><p>True where omega loop AND delay loop AND delay is the desired value</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">SelectSingleRSM</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">]),</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.SortListToRSMQ">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">SortListToRSMQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qxGrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qzGrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QGridList</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#SortListToRSMQ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.SortListToRSMQ" title="Permalink to this definition">#</a></dt>
<dd><p>This function generates on the basis of ‘QGrisList’ a two dimensional RSM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qzGrid</strong> (<em>1D numpy array</em>) – contains the steps along qz</p></li>
<li><p><strong>qxGrid</strong> (<em>1D numpy array</em>) – contains the steps along qx</p></li>
<li><p><strong>QGridList</strong> (<em>2D numpy array</em>) – relates every point in QGrid to information in RSMQList</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>RSMQ</strong> – intensity in qx (lines) and qz (columns)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.SortRSMRawToQGridList">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">SortRSMRawToQGridList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">QGridList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RSMRaw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltaTheta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convergenceXRays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uniqueOmega</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#SortRSMRawToQGridList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.SortRSMRawToQGridList" title="Permalink to this definition">#</a></dt>
<dd><p>This function uses ‘QGridList’ and sorts the new intensities from ‘RSMRaw’ into the bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>QGridList</strong> (<em>2D numpy array</em>) – relates every point in QGrid to information in RSMQList</p></li>
<li><p><strong>RSMRaw</strong> (<em>2D numpy array</em>) – contains intensity as function of pixels and omega angles</p></li>
<li><p><strong>deltaTheta</strong> (<em>float</em>) – describes the angle space due to the real space dimension of teh pixels [rad]</p></li>
<li><p><strong>convergenceXRays</strong> (<em>float</em>) – convergence angle of incident X-rays [rad]</p></li>
<li><p><strong>pixels</strong> (<em>1D numpy array</em>) – contains the detector pixels</p></li>
<li><p><strong>uniqueOmega</strong> (<em>1D array</em>) – contains the unique measured omgea angle values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>QGridList</strong> – relates every point in QGrid to intensity in RSMRaw</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.calcCenterPixel">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">calcCenterPixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">RSM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_pixel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#calcCenterPixel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.calcCenterPixel" title="Permalink to this definition">#</a></dt>
<dd><p>This function calculates the centerpixel of the measurement, but only if no positive value is manuell
given. The centerpixel is given by the pixel with the maximum intensity as sum for all omega angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RSM</strong> (<em>2D numpy array</em>) – containing a distorted RSM</p></li>
<li><p><strong>center_pixel</strong> (<em>integer</em>) – input centerpixel: If it is positive this is the return value otherwise the calculation starts</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>center_pixel</strong> – the pixel with the maximum intensity of the RSMraw or the used defined value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">=</span> <span class="n">calcCenterPixel</span><span class="p">(</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]),</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.calcQzQx">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">calcQzQx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omega</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#calcQzQx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.calcQzQx" title="Permalink to this definition">#</a></dt>
<dd><p>Calculates the corresponding values qx and qz for a diffraction geometry of omega, theta and k with qz in out-of-plane direction.
The calculation is based on equation (4) of  Ultrafast reciprocal-space mapping with a convergent beam , 2013, Journal of Applied Crystallography, 46, 5, 1372-1377.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>omega</strong> (<em>float</em>) – incident angle of the X-rays</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – diffraction angle to the detector</p></li>
<li><p><strong>k</strong> (<em>float</em>) – wave vector of the X-rays</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>qz</strong> (<em>float</em>) – the corrsponding qz coordinate in reciprocal space</p></li>
<li><p><strong>qx</strong> (<em>float</em>) – the corrsponding qx coordinate in reciprocal space</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">6.34</span><span class="p">,</span> <span class="mi">0</span> <span class="o">=</span> <span class="n">calcQzQx</span><span class="p">(</span><span class="mi">51</span><span class="p">,</span><span class="mi">51</span><span class="p">,</span><span class="mf">4.075</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.createQGrid">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">createQGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unique_omega</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qx_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qx_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_oversampling</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qx_oversampling</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#createQGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.createQGrid" title="Permalink to this definition">#</a></dt>
<dd><p>This function creates a grid in qx-qz space with bins along both directions.
The gird along qz is given by the measured omega angles and the number of pixels
determines the resolution along qx.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unique_omega</strong> (<em>1D numpy array</em>) – contains the measured omega angles</p></li>
<li><p><strong>pixels</strong> (<em>1D numpy array</em>) – contains the detector pixels</p></li>
<li><p><strong>qz_min</strong> (<em>float</em>) – describes the lower border of the analysed part of qx-qz space</p></li>
<li><p><strong>qz_max</strong> (<em>float</em>) – describes the upper border of the analysed part of qx-qz space</p></li>
<li><p><strong>qx_min</strong> (<em>float</em>) – describes the lower border of the analysed part of qx-qz space</p></li>
<li><p><strong>qx_max</strong> (<em>float</em>) – describes the upper border of the analysed part of qx-qz space</p></li>
<li><p><strong>qz_oversampling</strong> (<em>float</em>) – describes the additional resolution along qz</p></li>
<li><p><strong>qx_oversampling</strong> (<em>float</em>) – describes the additional resolution along qx</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>qz_grid</strong> (<em>1D numpy array</em>) – contains the steps along qz</p></li>
<li><p><strong>qx_grid</strong> (<em>1D numpy array</em>) – contains the steps along qx</p></li>
<li><p><strong>qz_bins</strong> (<em>list</em>) – the boxes with left and right border to sort intensity</p></li>
<li><p><strong>qx_bins</strong> (<em>list</em>) – the boxes with left and right border to sort intensity</p></li>
<li><p><strong>qz_delta</strong> (<em>float</em>) – width of the bins along qz</p></li>
<li><p><strong>qx_delta</strong> (<em>float</em>) – width of the bins along qx</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.loadParameters">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">loadParameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampleName</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#loadParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.loadParameters" title="Permalink to this definition">#</a></dt>
<dd><p>Load the Parameter list into the object. Oversamplingz is the factor
that tells how many times the number of omega datapoints are used to sample the qz-Axis. Usually oversamplingx
should be set to the same value as oversamplingz. 1/oversamplingx is the factor by which the qx axis stepnumber
is multiplied</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.rsm.plotRSMQ">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.rsm.</span></span><span class="sig-name descname"><span class="pre">plotRSMQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampleName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RSMQ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qzBins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qxBins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/rsm.html#plotRSMQ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.rsm.plotRSMQ" title="Permalink to this definition">#</a></dt>
<dd><p>This function plots the RSM with orthogonal bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sampleName</strong> (<em>string</em>) – name of the measured sample (named reference file)</p></li>
<li><p><strong>number</strong> (<em>integer</em>) – line in the reference datafile wich corresponds to the measurement</p></li>
<li><p><strong>RSMQ</strong> (<em>2D numpy array</em>) – intensity in qx (lines) and qz (columns)</p></li>
<li><p><strong>qzBins</strong> (<em>list</em>) – the boxes with left and right border to sort intensity</p></li>
<li><p><strong>qxBins</strong> (<em>list</em>) – the boxes with left and right border to sort intensity</p></li>
<li><p><strong>delay</strong> (<em>float</em>) – the element of uniqueDelays corresponding to RSM</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="rss">
<h2>rss<a class="headerlink" href="#rss" title="Permalink to this headline">#</a></h2>
</section>
<section id="module-udkm.pxs.pxshelpers">
<span id="pxshelpers"></span><h2>pxshelpers<a class="headerlink" href="#module-udkm.pxs.pxshelpers" title="Permalink to this headline">#</a></h2>
<p>This skript contains all basic functions used to evaluate pxs x-ray diffraction data.</p>
<p>– Further information –</p>
<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.calc_qx_qz">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">calc_qx_qz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omega_rad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_rad</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#calc_qx_qz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.calc_qx_qz" title="Permalink to this definition">#</a></dt>
<dd><p>This function calculates the qx-qz coordinate in reciprocal space for a
given incident and diffraction angle ‘omega_rad’ and ‘theta_rad’,respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>omega_rad</strong> (<em>0D array</em>) – the incident angle of x-ray beam in [rad]</p></li>
<li><p><strong>theta_rad</strong> (<em>1D array</em>) – the diffraction angle or angles of x-ray beam in [rad]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>qx_val</strong> (<em>1D array</em>) – in-plane reciprocal space coordinate in [1/Ang]</p></li>
<li><p><strong>qz_val</strong> (<em>1D array</em>) – out-off-plane reciprocal space coordinate in [1/Ang]</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_qx_qz</span><span class="p">(</span><span class="mf">0.405</span><span class="p">,</span><span class="mf">0.405</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_qx_qz</span><span class="p">(</span><span class="mf">0.405</span><span class="p">,</span><span class="mf">0.405</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.21</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.calc_theta_value">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">calc_theta_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omega_rad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centerpixel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#calc_theta_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.calc_theta_value" title="Permalink to this definition">#</a></dt>
<dd><p>This function calculates the corresponding diffraction angle ‘theta’ of a
‘pixel’ of the detector in respect to its ‘centerpixel’. The ‘distance’ between
sample and detector determines the angular space fraction covered by the pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>omega_rad</strong> (<em>0D array</em>) – the incident angle of x-ray beam in [rad]</p></li>
<li><p><strong>distance</strong> (<em>float</em>) – distance between sample and detector in [m]</p></li>
<li><p><strong>pixel</strong> (<em>1D array</em>) – pixel or pixels for which the theta angle should be calculated</p></li>
<li><p><strong>centerpixel</strong> (<em>integer</em>) – pixel where Bragg condition ‘omega’ = ‘theta’ is fulfilled</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>theta_rad</strong> – theta angle of the pixel or pixels in [rad]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>1D array</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_theta_value</span><span class="p">(</span><span class="mf">0.405</span><span class="p">,</span><span class="mf">0.666</span><span class="p">,</span><span class="mi">244</span><span class="p">,</span><span class="mi">244</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.405</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.gaussian_back_fit">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">gaussian_back_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#gaussian_back_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.gaussian_back_fit" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the parameters for a gaussian with linear background modell for the data and axis
in a region of intrest.</p>
<dl class="simple">
<dt>centerStart: float</dt><dd><p>start value for the center of gaussian</p>
</dd>
<dt>sigmaStart: float</dt><dd><p>start value for the width of gaussian</p>
</dd>
<dt>amplitudeStart: float</dt><dd><p>start value for the amplitude of gaussian</p>
</dd>
<dt>slopeStart: float</dt><dd><p>start value for the slope of the linear background</p>
</dd>
<dt>interceptStart: float</dt><dd><p>start value for the shift of the linear background</p>
</dd>
<dt>qzROI: 1D array</dt><dd><p>part of interest of qzaxis</p>
</dd>
<dt>IntensityROI: 1D array</dt><dd><p>part of interest of the detector intensities</p>
</dd>
</dl>
<dl class="simple">
<dt>resultFit: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for the further analysis</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">GaussianBackFit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">qz</span><span class="p">,</span><span class="n">I</span><span class="p">)[</span><span class="s1">&#39;g_center&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.gaussian_fit">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">gaussian_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity_roi</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#gaussian_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.gaussian_fit" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the parameters for a gaussian for the data and axis in a region of intrest.</p>
<dl class="simple">
<dt>centerStart: float</dt><dd><p>start value for the center of gaussian</p>
</dd>
<dt>sigmaStart: float</dt><dd><p>start value for the width of gaussian</p>
</dd>
<dt>amplitudeStart: float</dt><dd><p>start value for the amplitude of gaussian</p>
</dd>
<dt>qzROI: 1D array</dt><dd><p>part of interest of qzaxis</p>
</dd>
<dt>IntensityROI: 1D array</dt><dd><p>part of interest of the detector intensities</p>
</dd>
<dt>variationBool: 1D array</dt><dd><p>contains True or False for variation of the parameters</p>
</dd>
</dl>
<dl class="simple">
<dt>resultFit: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for the further analysis</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">GaussianFit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">qz</span><span class="p">,</span><span class="n">I</span><span class="p">)[</span><span class="s1">&#39;g_center&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.get_fit_values">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">get_fit_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity_peak</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_delays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool_plot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#get_fit_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.get_fit_values" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the values of the fit parameters (centerFit,widthFit,areaFit) for every unique delay
as result of a fit of the rocking curves in the region of intrest. There is the possibility to plot the results
of the fits for every unique delay.</p>
<dl class="simple">
<dt>NameFile: string</dt><dd><p>name of the reference datafile</p>
</dd>
<dt>Number: integer</dt><dd><p>line in the reference datafile wich corresponds to the measurement</p>
</dd>
<dt>RockingCurves: 2D array</dt><dd><p>contains the averaged intensities for the unique measured delays(x) in dependency of qz(y1) and the
angle theta(y2)</p>
</dd>
<dt>qzMin: float</dt><dd><p>the lower border of region of interest of the qzaxis</p>
</dd>
<dt>qzmax: float</dt><dd><p>the upper border of region of interest of the qzaxis</p>
</dd>
<dt>resultFitRef: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for the further analysis is the fit before t0</p>
</dd>
<dt>plotFitResults: boolean</dt><dd><p>if True the results of every fit for the unique delays are plotted with the function plotPeakFit</p>
</dd>
</dl>
<dl class="simple">
<dt>centerFit: 1D array</dt><dd><p>contains the center of the gasussian fit of the Bragg peak for every unique delay in consideration of the region of intrest</p>
</dd>
<dt>widthFit: 1D array</dt><dd><p>contains the width sigma of the gasussian fit of the Bragg peak for every unique delay in consideration of the region of intrest</p>
</dd>
<dt>areaFit: 1D array</dt><dd><p>contains the amplitude of the gasussian fit of the Bragg peak for every unique delay in consideration of the region of intrest</p>
</dd>
<dt>uniqueDelays: 1D array</dt><dd><p>contains the unique delays of measurement, part of delays without repetition</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mf">2.2</span><span class="p">,</span><span class="mf">2.3</span><span class="p">,</span><span class="mf">2.4</span><span class="p">,</span><span class="mf">2.2</span><span class="p">,</span><span class="mf">2.3</span><span class="p">,</span><span class="mf">2.2</span><span class="p">]</span> <span class="o">=</span>
<span class="go">getMoments(RockingCurves,1.6,2.8)[0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.get_label">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">get_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#get_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.get_label" title="Permalink to this definition">#</a></dt>
<dd><p>This function create a plot title, a saving path and a saving name for the ‘number’.
measurement of the ‘ref_file’ based on the corresponding parameters of the measurement.
Therefore this function uses the function ‘read_param’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_file</strong> (<em>string</em>) – file name of the corresponding reference file in the folder ‘ReferenceData’</p></li>
<li><p><strong>number</strong> (<em>integer</em>) – line in the reference datafile wich corresponds to the measurement</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>plot_title</strong> (<em>string</em>) – contains the ‘number’ of measurement, ‘date’, ‘time’, ‘temperature’ and ‘fluence’
of the choosen measurement</p></li>
<li><p><strong>save_path</strong> (<em>string</em>) – contains the ‘date’ and ‘time’ of the choosen measurement as an order structure to define a
saving path like the order structure insaved the folder ‘RawData’</p></li>
<li><p><strong>file_name</strong> (<em>string</em>) – contains the ‘date’ and ‘time’ of the choosen measurement to give saved plots and data
a usefull name</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;0 / 20191123 / 235959 / 300 K / 5.2 mJ/cm2&#39;</span> <span class="o">=</span> <span class="n">get_label</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;20191123/235959&#39;</span> <span class="o">=</span> <span class="n">get_label</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;20191123235959&#39;</span> <span class="o">=</span> <span class="n">get_label</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.get_moments_back">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">get_moments_back</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rocking</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool_substrate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#get_moments_back"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.get_moments_back" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the moments of the Bragg Peak (center of mass, standart derivation, integral) for all
unique delays with the reference fit (gaussian + linear) for all delays before t0.</p>
<dl class="simple">
<dt>RockingCurves: 2D array</dt><dd><p>contains the averaged intensities for the unique measured delays(x) in dependency of qz(y1) and the
angle theta(y2)</p>
</dd>
<dt>qzMin: float</dt><dd><p>the lower border of region of interest</p>
</dd>
<dt>qzmax: float</dt><dd><p>the upper border of region of interest</p>
</dd>
</dl>
<dl class="simple">
<dt>COM: 1D array</dt><dd><p>contains the center of mass for every unique delay in consideration of the region of intrest</p>
</dd>
<dt>STD: 1D array</dt><dd><p>contains the standart derivation for every unique delay in consideration of the region of intrest</p>
</dd>
<dt>Integral: 1D array</dt><dd><p>contains the integral for every unique delay in consideration of the region of intrest</p>
</dd>
<dt>resultFitRef: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for the further analysis for meaan intensity before t0.</p>
</dd>
<dt>uniqueDelays: 1D array</dt><dd><p>contains the unique delays of measurement, part of delays without repetition</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mf">2.2</span><span class="p">,</span><span class="mf">2.3</span><span class="p">,</span><span class="mf">2.4</span><span class="p">,</span><span class="mf">2.2</span><span class="p">,</span><span class="mf">2.3</span><span class="p">,</span><span class="mf">2.2</span><span class="p">]</span> <span class="o">=</span>
<span class="go">getMoments(RockingCurves,1.6,2.8)[0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.get_peak_dynamic">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">get_peak_dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_delays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">com</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integral</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_fit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#get_peak_dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.get_peak_dynamic" title="Permalink to this definition">#</a></dt>
<dd><p>This function calculate the relative change of the center, width and area of the Bragg peak relative to
delays before t0.</p>
<dl class="simple">
<dt>uniqueDelays: 1D array</dt><dd><p>contains the unique delays of measurement, part of delays without repetition</p>
</dd>
<dt>center: 1D array</dt><dd><p>contains the center of the Bragg peak for every unique delay</p>
</dd>
<dt>width: 1D array</dt><dd><p>contains the width of the Bragg peak for every unique delay</p>
</dd>
<dt>integral: 1D array</dt><dd><p>contains the area of the Bragg peak for every unique delay</p>
</dd>
<dt>order: integer</dt><dd><p>the order of the measured Bragg peak for lattice constant calculation</p>
</dd>
</dl>
<dl class="simple">
<dt>strain: array</dt><dd><p>relative change of lattice constant to t&lt;0 for different time delays from gaussian fit</p>
</dd>
<dt>widthrelative: array</dt><dd><p>relative change of width of the peak to t&lt;0 for different time delays from gaussian fit</p>
</dd>
<dt>arearelative: array</dt><dd><p>relative change of amplitude of the peak to t&lt;0 for different time delays from gaussian fit</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mf">0.001</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.09</span><span class="p">,</span><span class="mf">0.08</span><span class="p">]</span>
<span class="go">=getPeakDynamic(delay,center,width,integral,2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.get_rocking_rss">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">get_rocking_rss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omega_rad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centerpixel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#get_rocking_rss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.get_rocking_rss" title="Permalink to this definition">#</a></dt>
<dd><p>This function gets the loopwise averaged intensity per unique delay as
function of qz coordinates in reciprocal space calculated from ‘omega_rad’,
‘distance’ and ‘centerpixel’ using the functions ‘calc_theta_value’ and
‘calc_qx_qz’. The resulting rocking curves are saved in the folder ‘RawData’
and ‘exportedRockingCurves’ using the function ‘get_label’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_file</strong> (<em>string</em>) – file name of the corresponding reference file in the folder ‘ReferenceData’</p></li>
<li><p><strong>number</strong> (<em>integer</em>) – line in the reference datafile wich corresponds to the measurement</p></li>
<li><p><strong>omega_rad</strong> (<em>0D array</em>) – incident angle of measurement in [rad]</p></li>
<li><p><strong>centerpixel</strong> (<em>integer</em>) – pixel where Bragg condition ‘omega’ = ‘theta’ is fulfilled</p></li>
<li><p><strong>delays</strong> (<em>1D array</em>) – all measured delays with repition for different loops</p></li>
<li><p><strong>intensity</strong> (<em>2D array</em>) – detected intensities for detectorpixel(x) and delays(y)</p></li>
<li><p><strong>Returns</strong> – </p></li>
<li><p><strong>--------</strong> – </p></li>
<li><p><strong>rocking</strong> (<em>2D array</em>) – contains the averaged intensities for the unique measured delays(y1)
in dependency of qz(x1) and theta(x2)</p></li>
<li><p><strong>Example</strong> – </p></li>
<li><p><strong>--------</strong> – </p></li>
<li><p><strong>get_rocking_rss</strong><strong>(</strong><strong>'Overview'</strong> (<em>&gt;&gt;&gt;</em>) – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
<li><p><strong>0</strong> – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
<li><p><strong>0.405</strong> – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
<li><p><strong>0.666</strong> – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
<li><p><strong>1</strong> – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
<li><p><strong>np.array</strong><strong>(</strong><strong>[</strong><strong>-1</strong> – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
<li><p><strong>0</strong> – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
<li><p><strong>0.5</strong><strong>]</strong><strong>)</strong> – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
<li><p><strong>intensity</strong><strong>)</strong><strong>=</strong> – np.array(([-8000,3.11,3.21,3.31],[-8000,0.40,0.405,0.41],[-1,0.1,0.8,0.1],[0,0.1,0.8,0.1],[0.5,0.2,0.7,0]))</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.plot_peak_fit">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">plot_peak_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#plot_peak_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.plot_peak_fit" title="Permalink to this definition">#</a></dt>
<dd><p>This function plot the intensity depending on qzaxis together with the corresponding fit and the referenz fit
for delays before t0 together to check the fitting results.</p>
<dl class="simple">
<dt>NameFile: string</dt><dd><p>name of the reference datafile</p>
</dd>
<dt>Number: integer</dt><dd><p>line in the reference datafile wich corresponds to the measurement</p>
</dd>
<dt>index: integer</dt><dd><p>the index to distinguish the different iterations in the plot title</p>
</dd>
<dt>qzROI: 1D array</dt><dd><p>the region of intrest of the qzaxis to fit the bragg peak</p>
</dd>
<dt>resultFit: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for the further analysis is the fit for every delay</p>
</dd>
<dt>resultFitRef: lm model objekt</dt><dd><p>allows to get fit values (.values), the used data (.data), the initial fit (.init_fit)
and the best fit (.best_fit) for the further analysis is the fit before t0</p>
</dd>
<dt>t: float</dt><dd><p>the time correspond to the index-parameter number via uniqueDelays</p>
</dd>
<dt>PlotSemilogy: boolean</dt><dd><p>if true the yaxis of the plot will be logarithmic</p>
</dd>
<dt>fontSize: integer</dt><dd><p>the fontsize for the plots</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plotPeakFit</span><span class="p">(</span><span class="s1">&#39;Dataset&#39;</span><span class="p">,</span><span class="n">qz</span><span class="p">,</span><span class="n">Fit</span><span class="p">,</span><span class="n">Fitt0</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.plot_rocking_overview">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">plot_rocking_overview</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rocking</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qz_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_steps</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#plot_rocking_overview"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.plot_rocking_overview" title="Permalink to this definition">#</a></dt>
<dd><p>This function provides an overview plot of the transient ‘rocking’ curves
of the ‘number’. measurement in ‘ref_file’ for a given ‘qz_range’ as two-
dimensional map. The parameter ‘delay_steps’ enables the adjustment of the
focus of the plot with the steps for small delays, delay of the axis split
and the delay steps in the second narrower part of teh plot for large delays.
Finally, the plot is saved in teh corresponding ‘RawData’ folder in a folder
named ‘exportedFigures’ using the function ‘get_label’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_file</strong> (<em>string</em>) – file name of the corresponding reference file in the folder ‘ReferenceData’</p></li>
<li><p><strong>number</strong> (<em>integer</em>) – line in the reference datafile wich corresponds to the measurement</p></li>
<li><p><strong>rocking</strong> (<em>2D array</em>) – contains the averaged intensities for the unique measured delays(y1)
in dependency of qz(x1) and theta(x2)</p></li>
<li><p><strong>qz_range</strong> (<em>list</em>) – lower and higher border of the region of intrest in reciprocal space in [1/Ang]</p></li>
<li><p><strong>delay_steps</strong> (<em>list</em>) – first: steps first part of plot, second: delay of axis break, third: steps second part of plot</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.read_data_rss">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">read_data_rss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bad_loops</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bad_pixels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crystal_off</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool_refresh_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#read_data_rss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.read_data_rss" title="Permalink to this definition">#</a></dt>
<dd><p>This function imports the x-ray intensity as function of the detector pixel for the ‘number’.
single angle measurement listed in ‘ref_file’. The function returns the measurement angle, the
delays in respect to temporal overlapp given by ‘t_0’ and the normed intensity on the crystal
voltage, where low intensity scans below ‘threshold’, bad pixels and bad loops are excluded
given by ‘bad_loops’ and ‘bad_pixels’, respectively.
This function uses the functions ‘get_label’ and ‘read_param’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_file</strong> (<em>string</em>) – file name of the corresponding reference file in the folder ‘ReferenceData’</p></li>
<li><p><strong>number</strong> (<em>integer</em>) – line in the reference datafile wich corresponds to the measurement</p></li>
<li><p><strong>bad_loops</strong> (<em>list</em>) – contain all bad loops that are excluded in further analysis</p></li>
<li><p><strong>bad_pixels</strong> (<em>list</em>) – contain bad pixels (0-487) that are excluded in further analysis</p></li>
<li><p><strong>crystal_off</strong> (<em>float</em>) – voltage at crystal without photons as reference for normalization</p></li>
<li><p><strong>treshold</strong> (<em>float</em>) – minimum of crystalvoltage corresponds to a minimum of photons per puls</p></li>
<li><p><strong>t_0</strong> (<em>float</em>) – time when pump and probe arrives at the same time [ps]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>omega_deg</strong> (<em>0D array</em>) – incident angle of measurement in [deg]</p></li>
<li><p><strong>omega_rad</strong> (<em>0D array</em>) – incident angle of measurement in [rad]</p></li>
<li><p><strong>delays</strong> (<em>1D array</em>) – all measured delays with repetion for different loops in respect to ‘t_0’</p></li>
<li><p><strong>intensity</strong> (<em>2D array</em>) – detected intensities for detectorpixel(x) and delays(y)</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">23.2</span> <span class="o">=</span> <span class="n">read_data_rss</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,[],[],</span><span class="mf">0.021</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">0.405</span> <span class="o">=</span> <span class="n">read_data_rss</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,[],[],</span><span class="mf">0.021</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])</span> <span class="o">=</span> <span class="n">read_data_rss</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,[],[],</span><span class="mf">0.021</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span> <span class="o">=</span> <span class="n">read_data_rss</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,[],[],</span><span class="mf">0.021</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="udkm.pxs.pxshelpers.read_param">
<span class="sig-prename descclassname"><span class="pre">udkm.pxs.pxshelpers.</span></span><span class="sig-name descname"><span class="pre">read_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/udkm/pxs/pxshelpers.html#read_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#udkm.pxs.pxshelpers.read_param" title="Permalink to this definition">#</a></dt>
<dd><p>This function reads the reference data file ‘ref_file’ and returns all parameters
of the ‘number’. measurement including ‘date’ and ‘time’ that are used for unique
reference on the measurement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_file</strong> (<em>string</em>) – file name of the corresponding reference file in the folder ‘ReferenceData’</p></li>
<li><p><strong>number</strong> (<em>integer</em>) – line in the reference datafile wich corresponds to the measurement</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>date</strong> (<em>string</em>) – date of the measurement</p></li>
<li><p><strong>time</strong> (<em>string</em>) – time of the measurement</p></li>
<li><p><strong>temperature</strong> (<em>float</em>) – temperature during the choosen measurement in [K]</p></li>
<li><p><strong>fluence</strong> (<em>float</em>) – fluence during the choosen measurement in [mJ/cm^2]</p></li>
<li><p><strong>distance</strong> (<em>float</em>) – distance between sample and detector for choosen measurement in [m]</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="mi">20191123</span> <span class="o">=</span> <span class="n">read_param</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="mi">235959</span> <span class="o">=</span> <span class="n">read_param</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="mi">300</span> <span class="o">=</span> <span class="n">read_param</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="mf">5.2</span> <span class="o">=</span> <span class="n">read_param</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="mf">0.666</span> <span class="o">=</span> <span class="n">read_param</span><span class="p">(</span><span class="s1">&#39;Overview&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Welcome to udkm’s documentation!</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="moke.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><code class="docutils literal notranslate"><span class="pre">moke</span></code></p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Alexander von Reppert<br/>
  
      &copy; Copyright 2022, Alexander von Reppert.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>